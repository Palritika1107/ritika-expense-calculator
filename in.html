<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">        
        <title>Personal EXpense</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <style>
            body{
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                height: 100vh;
            }
        </style>
        
       
    </head>
    <body>
        <h1 id="headingTotal"></h1>
        <input id="inputAmount"  type="text">
        <input id="inputDesc" type="text">
        <button id="btnAddExpense">+</button>
        <div id="expenseTable"></div>


        <script>
            //get the heading element

             const headingEl = document.querySelector("#headingTotal");

             //get the reference to desc element

             const inputDescEl = document.querySelector("#inputDesc");

             // input value of expense from inputAmount
             const inputElement = document.querySelector("#inputAmount");

             //get reference to table
                
             const table = document.querySelector("#expenseTable");

            // initialise value of expense 0
            let totalExpense = 0;

            //set the heading element to total expense

             headingEl.textContent = totalExpense;

             //all expenses at one place

             const allExpenses = [];

          //onButtonClick add inputAmount to totalExpense 

             function addExpenseToTotal()
             {
                 const expenseItem = {};
                //description input

                const textDesc = inputDescEl.value;
                 
                
                //value of daily expense (amount)
                const textAmount = inputElement.value;
                // console.log({textDesc , textAmount});
                
                // convert it to number
                const expense = parseInt(textAmount,10);
                // console.log({ expense });

                //put it in an object
                 expenseItem.desc = textDesc;
                expenseItem.amount = expense;

                // console.log(expenseItem);

                allExpenses.push(expenseItem);

                // console.clear();
                // console.table(allExpenses);
                

                //add that to totalExpense
                 totalExpense = totalExpense + expense;
                // console.log({ totalExpense });

                //set the heading element to totalExpense
                // const someText = `the expense for this month is:`+totalExpense;
                const someText = `total : ${totalExpense}`;
                // ${} -> is a place holder

                headingEl.textContent = someText;

                // const data1 = allExpenses[0];
                // const data2 = allExpenses[1];

                // const data1Text = ` ${data1.amount} ::  ${data1.desc}`;
                // const data2Text = ` ${data2.amount} ::  ${data2.desc}`;

                // const itemText = `
                //    <div>${data1Text}</div>
                //    <div>${data2Text}</div>
                
                // `
                const allExpenseHTML = allExpenses.map(expense =>  {return `<div> ${expense.amount} :: ${expense.desc} </div>`});
                 const joinedAllExpenseHTML = allExpenseHTML.join("");
                 console.log(joinedAllExpenseHTML);

                expenseTable.innerHTML = joinedAllExpenseHTML;
                 

             } 
             
              //get the button element
               const element = document.querySelector("#btnAddExpense");
              // console.log(element);

             //listen to click event

               element.addEventListener("click",addExpenseToTotal, false);
               
               
        </script>

    </body>
</html>
